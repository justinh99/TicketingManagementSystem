{"ast":null,"code":"var _this = this,\n  _jsxFileName = \"/Users/seung/Desktop/project/typescript-tutorial/src/ProtectedRoute.tsx\";\n// ProtectedRoute.js\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from './AuthProvider';\nimport Login from './login';\nimport StaffHome from './StaffHome';\nvar ProtectedRoute = function ProtectedRoute() {\n  var _useAuth = useAuth(),\n    isAuthenticated = _useAuth.isAuthenticated;\n  var navigate = useNavigate();\n  var accessTokenRow = document.cookie.split('; ').find(function (row) {\n    return row.startsWith('accessToken=');\n  });\n  var accessToken;\n  if (accessTokenRow) {\n    accessToken = accessTokenRow.split('=')[1];\n  }\n  if (accessToken) {\n    return /*#__PURE__*/React.createElement(StaffHome, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 12\n      }\n    });\n  } else {\n    // Redirect to the login page if not authenticated\n    return /*#__PURE__*/React.createElement(Login, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 12\n      }\n    });\n  }\n};\nexport default ProtectedRoute;","map":{"version":3,"names":["React","useNavigate","useAuth","Login","StaffHome","ProtectedRoute","_useAuth","isAuthenticated","navigate","accessTokenRow","document","cookie","split","find","row","startsWith","accessToken","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/seung/Desktop/project/typescript-tutorial/src/ProtectedRoute.tsx"],"sourcesContent":["// ProtectedRoute.js\nimport React from 'react';\nimport { Navigate, Route, useNavigate } from 'react-router-dom';\nimport { useAuth } from './AuthProvider';\nimport Login from './login';\nimport StaffHome from './StaffHome';\n\n\nconst ProtectedRoute = () => {\n  const { isAuthenticated } = useAuth();\n  const navigate = useNavigate();\n  const accessTokenRow = document.cookie\n    .split('; ')\n    .find(row => row.startsWith('accessToken='));\n\n  let accessToken;\n  if (accessTokenRow) {\n    accessToken = accessTokenRow.split('=')[1];\n  }\n  \n  if (accessToken) {\n    return <StaffHome/>;\n  } else {\n    // Redirect to the login page if not authenticated\n    return <Login/>;\n  }\n};\n\nexport default ProtectedRoute;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAA0BC,WAAW,QAAQ,kBAAkB;AAC/D,SAASC,OAAO,QAAQ,gBAAgB;AACxC,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,SAAS,MAAM,aAAa;AAGnC,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAS;EAAA,IAAAC,QAAA,GACCJ,OAAO,CAAC,CAAC;IAA7BK,eAAe,GAAAD,QAAA,CAAfC,eAAe;EACvB,IAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,IAAMQ,cAAc,GAAGC,QAAQ,CAACC,MAAM,CACnCC,KAAK,CAAC,IAAI,CAAC,CACXC,IAAI,CAAC,UAAAC,GAAG;IAAA,OAAIA,GAAG,CAACC,UAAU,CAAC,cAAc,CAAC;EAAA,EAAC;EAE9C,IAAIC,WAAW;EACf,IAAIP,cAAc,EAAE;IAClBO,WAAW,GAAGP,cAAc,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAC5C;EAEA,IAAII,WAAW,EAAE;IACf,oBAAOhB,KAAA,CAAAiB,aAAA,CAACb,SAAS;MAAAc,MAAA,EAAAC,KAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAC,CAAC;EACrB,CAAC,MAAM;IACL;IACA,oBAAOxB,KAAA,CAAAiB,aAAA,CAACd,KAAK;MAAAe,MAAA,EAAAC,KAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAC,CAAC;EACjB;AACF,CAAC;AAED,eAAenB,cAAc"},"metadata":{},"sourceType":"module"}